(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{547:function(s,t,a){"use strict";a.r(t);var e=a(6),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[s._v("前言")]),s._v(" "),a("p",[s._v("在Linux之父Linus Torvalds加盟微软之后，Windows系统便能够很好的使用linux系统了，最典型便是WSL2的安装和使用，关于WSL2的安装，官方教程已经给的很清楚了，想尝试的小伙伴可以尝试用一下："),a("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/windows/wsl/install-win10",target:"_blank",rel:"noopener noreferrer"}},[s._v("适用于 Linux 的 Windows 子系统安装指南 (Windows 10)"),a("OutboundLink")],1),s._v("，在已经安装好了WSL2的基础上，我们可以在Windows的Ubuntu系统上安装一个GUI界面。")]),s._v(" "),a("h2",{attrs:{id:"安装界面"}},[s._v("安装界面")]),s._v(" "),a("p",[s._v("在安装之前，你可以将Ubuntu系统的软件源更换为国内的清华源或者阿里源，确保在下面的安装过程中顺利进行！")]),s._v(" "),a("h3",{attrs:{id:"更新系统软件"}},[s._v("更新系统软件")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://image.icelo.cn/wsl2-gui-1.png#mirages-width=840&mirages-height=445&mirages-cdn-type=1",alt:"更新软件源"}})]),s._v(" "),a("p",[s._v("我们使用如下命令更新一下系统软件！当发现更新出错时，请继续执行命令，确保更新成功！")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" upgrade\n")])])]),a("h3",{attrs:{id:"安装xrdp"}},[s._v("安装xrdp")]),s._v(" "),a("p",[s._v("在这里我们使用的"),a("code",[s._v("xrdp")]),s._v("来连接我们待会要安装的桌面程序，首先需要安装"),a("code",[s._v("xrdp")]),s._v("，使用如下命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" xrdp\n")])])]),a("p",[s._v("在安装过程中确保安装成功，如有异常错误，请再次执行上述命令！")]),s._v(" "),a("h3",{attrs:{id:"安装桌面程序"}},[s._v("安装桌面程序")]),s._v(" "),a("p",[s._v("这里我们需要安装一个桌面程序"),a("code",[s._v("xfce4")]),s._v("及其相关的应用程序，使用如下命令安装：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" xfce4 xfce4-goodies\n")])])]),a("p",[s._v("在安装的过程中会选择一个显示管理器，可以随便选择一个，按回车选择！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://image.icelo.cn/wsl2-gui-2.png#mirages-width=1200&mirages-height=616&mirages-cdn-type=1",alt:"显示管理器选择"}})]),s._v(" "),a("h3",{attrs:{id:"编辑配置文件"}},[s._v("编辑配置文件")]),s._v(" "),a("p",[s._v("使用命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /ect/xrdp/xrdp.ini\n")])])]),a("p",[s._v("编辑配置文件，修改xrdp的最大连接数为128，修改"),a("code",[s._v("max_bpp=128")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://image.icelo.cn/wsl2-gui-3.png#mirages-width=876&mirages-height=584&mirages-cdn-type=1",alt:"修改配置文件"}})]),s._v(" "),a("h3",{attrs:{id:"xsession配置"}},[s._v("xsession配置")]),s._v(" "),a("p",[s._v("对于非root用户登录服务器的情况，应该首先将"),a("code",[s._v("xfce4-session")]),s._v("写入该用户文件夹的"),a("code",[s._v("xsession")]),s._v("文件："),a("code",[s._v("/home/username/.xsession")])]),s._v(" "),a("p",[s._v("使用如下命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" xfce4-session "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ~/.xsession\n")])])]),a("h3",{attrs:{id:"修改启动文件"}},[s._v("修改启动文件")]),s._v(" "),a("p",[s._v("修改"),a("code",[s._v("/etc/xrdp/startwm.sh")]),s._v("文件，在最下面将测试的两行代码注释，并加上"),a("code",[s._v("startxfce4")]),s._v("，保存并退出！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://image.icelo.cn/wsl2-gui-4.png#mirages-width=908&mirages-height=571&mirages-cdn-type=1",alt:"修改启动文件"}})]),s._v(" "),a("h3",{attrs:{id:"启动桌面服务"}},[s._v("启动桌面服务")]),s._v(" "),a("p",[s._v("使用命令开启一个桌面服务，显示OK表示开启成功！")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /etc/init.d/xrdp start\n")])])]),a("p",[a("img",{attrs:{src:"https://image.icelo.cn/wsl2-gui-5.png#mirages-width=1198&mirages-height=62&mirages-cdn-type=1",alt:"开启桌面服务"}})]),s._v(" "),a("h3",{attrs:{id:"远程连接"}},[s._v("远程连接")]),s._v(" "),a("p",[s._v("使用IP查看命令，查看Ubuntu的IP，然后使用Windows下的远程桌面连接工具连接桌面！")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" a\n")])])]),a("p",[a("img",{attrs:{src:"https://image.icelo.cn/wsl2-gui-7.png#mirages-width=473&mirages-height=318&mirages-cdn-type=1",alt:"远程连接"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://image.icelo.cn/wsl2-gui-6.png#mirages-width=1022&mirages-height=631&mirages-cdn-type=1",alt:"远程连接"}})]),s._v(" "),a("p",[s._v("在界面输入用户名和密码即可登录！")]),s._v(" "),a("h2",{attrs:{id:"结语"}},[s._v("结语")]),s._v(" "),a("p",[s._v("这里主要是使用"),a("code",[s._v("xrdp")]),s._v("远程连接桌面的方式，使用的桌面程序是"),a("code",[s._v("xfce4")]),s._v("同样可以使用其他的桌面程序，这种安装界面的方法在wsl上也同样适用！")])])}),[],!1,null,null,null);t.default=n.exports}}]);